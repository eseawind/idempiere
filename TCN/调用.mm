<map version="1.0.1">
<!-- To view this file, download free mind mapping software FreeMind from http://freemind.sourceforge.net -->
<node COLOR="#000000" CREATED="1385343552135" ID="ID_1022193760" MODIFIED="1385529995694" TEXT="&#x8c03;&#x7528;&#x8fc7;&#x7a0b;">
<font NAME="SansSerif" SIZE="20"/>
<hook NAME="accessories/plugins/AutomaticLayout.properties"/>
<node COLOR="#0033ff" CREATED="1385365472879" ID="ID_701739518" MODIFIED="1385436106126" POSITION="left" TEXT="&#x5355;&#x636e;&#x64cd;&#x4f5c;&#x4e2d;&#x53d8;&#x66f4;&#x72b6;&#x6001;">
<edge STYLE="sharp_bezier" WIDTH="8"/>
<font NAME="SansSerif" SIZE="18"/>
<node COLOR="#00b439" CREATED="1385436106822" ID="ID_1736030301" MODIFIED="1385436128364" TEXT="ContextRunnable.java&#x4e2d;&#x7684;run()">
<edge STYLE="bezier" WIDTH="thin"/>
<font NAME="SansSerif" SIZE="16"/>
<node COLOR="#990000" CREATED="1385436129745" ID="ID_463510987" MODIFIED="1385436135850" TEXT="doRun()">
<font NAME="SansSerif" SIZE="14"/>
<node COLOR="#111111" CREATED="1385434420580" ID="ID_426616616" MODIFIED="1385436213544" TEXT="ProcessModalDialog.java&#x4e2d;&#x8c03;&#x7528;WProcessCtl.process">
<edge STYLE="bezier" WIDTH="thin"/>
<font NAME="SansSerif" SIZE="12"/>
<node COLOR="#111111" CREATED="1385343597534" ID="ID_1940348564" MODIFIED="1385436213545" TEXT="WProcessCtl worker = new WProcessCtl(ProcessModalDialog.this, m_WindowNo, parameterPanel, m_pi, null));">
<font NAME="SansSerif" SIZE="12"/>
<node COLOR="#111111" CREATED="1385343867989" ID="ID_827261571" MODIFIED="1385436395869" TEXT="&#x521d;&#x59cb;&#x5316;super() -&gt; AbstractProcessCtl.java&#x4e2d;&#x7684;AbstractProcessCtl()"/>
<node COLOR="#111111" CREATED="1385434794939" ID="ID_1047056454" MODIFIED="1385434801385" TEXT="worker.run()">
<node COLOR="#111111" CREATED="1385343867989" ID="ID_1440629664" MODIFIED="1385436498370" TEXT="AbstractProcessCtl.java&#x4e2d;&#x7684;run()">
<node COLOR="#111111" CREATED="1385344028442" ID="ID_603308745" MODIFIED="1385373816117" TEXT="lock()"/>
<node COLOR="#111111" CREATED="1385344294196" FOLDED="true" ID="ID_751353603" MODIFIED="1385435877366" STYLE="fork" TEXT="sql&#x62bd;&#x53d6;process&#x7684;&#x4fe1;&#x606f;&#x653e;&#x5165;m_pi&#x5bf9;&#x8c61;">
<node COLOR="#111111" CREATED="1385344508177" ID="ID_1803277635" MODIFIED="1385373816118" TEXT="&#x5224;&#x65ad;&#x62a5;&#x8868;&#xff0c;jaspser&#xff0c;&#x662f;&#x5426;&#x76f4;&#x63a5;&#x663e;&#x793a;&#xff0c;&#x662f;&#x5426;&#x662f;&#x5b9a;&#x65f6;&#x4efb;&#x52a1;"/>
</node>
<node COLOR="#111111" CREATED="1385344640456" ID="ID_903763199" MODIFIED="1385435875544" TEXT="&#x6709;workflow &gt;0">
<node COLOR="#111111" CREATED="1385344839426" ID="ID_1573779942" MODIFIED="1385435042212" TEXT="AbstractProcessCtl.java&#x4e2d;&#x7684;startWorkflow()">
<node COLOR="#111111" CREATED="1385345150568" ID="ID_1179810504" MODIFIED="1385373816119" TEXT="&#x662f;&#x5426;&#x662f;serverProcess&#x7aef;&#x8fd0;&#x884c;"/>
<node COLOR="#111111" CREATED="1385345186142" ID="ID_1894105579" MODIFIED="1385373816119" TEXT="MWFPRocess wfProcess = ProcessUtil.startWorkFlow">
<node COLOR="#111111" CREATED="1385346293829" ID="ID_1592683640" MODIFIED="1385373816120" TEXT="ProcessUtil.java&#x4e2d;&#x7684;startWorkFlow">
<node COLOR="#111111" CREATED="1385346335514" ID="ID_889318352" MODIFIED="1385373816120" TEXT="MWorkflow wf = MWorkflow.get">
<node COLOR="#111111" CREATED="1385346897351" ID="ID_399689039" MODIFIED="1385373816120" TEXT="MWorkflow retValue = new MWorkflow"/>
<node COLOR="#111111" CREATED="1385346998299" ID="ID_1494920800" MODIFIED="1385373816121" TEXT="return retValue"/>
</node>
<node COLOR="#111111" CREATED="1385346386813" ID="ID_917567974" MODIFIED="1385373816121" TEXT="MWFProcess wfProcess = wf.start">
<node COLOR="#111111" CREATED="1385345580866" ID="ID_34347914" MODIFIED="1385373816121" TEXT="MWorkflow.java&#x4e2d;&#x7684;start">
<node COLOR="#111111" CREATED="1385346498630" ID="ID_1331892383" MODIFIED="1385373816122" TEXT="localTrx = Trx.get(newTrx)"/>
<node COLOR="#111111" CREATED="1385346527681" ID="ID_736689794" MODIFIED="1385373816122" TEXT="retValue = new  MWFProcess"/>
<node COLOR="#111111" CREATED="1385346556038" ID="ID_1098307928" MODIFIED="1385373816122" TEXT="retValue.saveEx()">
<node COLOR="#111111" CREATED="1385349470979" ID="ID_1069753948" MODIFIED="1385373816123" TEXT="PO.java &#x4e2d;&#x7684;save"/>
</node>
<node COLOR="#111111" CREATED="1385346573911" ID="ID_1735642972" MODIFIED="1385373816123" TEXT="retValue.startWork()">
<node COLOR="#111111" CREATED="1385349562357" ID="ID_218985386" MODIFIED="1385373816123" TEXT="MWFProcess.java">
<node COLOR="#111111" CREATED="1385348973537" ID="ID_1802314222" MODIFIED="1385373816124" TEXT="isValidAction"/>
<node COLOR="#111111" CREATED="1385348993294" ID="ID_177825641" MODIFIED="1385373816124" TEXT="MWFActivity activity = new MWFActivity">
<node COLOR="#111111" CREATED="1385349128370" ID="ID_1618322929" MODIFIED="1385373816124" TEXT="super&#x53d6;&#x5f97;PO(Persistent Object)"/>
<node COLOR="#111111" CREATED="1385349241392" ID="ID_1638139254" MODIFIED="1385531535440" TEXT="&#x5927;&#x91cf;&#x7684;set&#x53d8;&#x91cf;"/>
<node COLOR="#111111" CREATED="1385349309230" ID="ID_114779723" MODIFIED="1385373816125" TEXT="super&#x53d6;&#x5f97;wfstate"/>
<node COLOR="#111111" CREATED="1385349413738" ID="ID_482193709" MODIFIED="1385373816125" TEXT="MWFNode node = MWFNode.get"/>
<node COLOR="#111111" CREATED="1385349441305" ID="ID_1525857575" MODIFIED="1385373816125" TEXT="m_audit = new MWFEventAudit(this);"/>
</node>
<node COLOR="#111111" CREATED="1385349008914" ID="ID_433194440" MODIFIED="1385373816126" TEXT="activity.run()">
<node COLOR="#111111" CREATED="1385349625429" ID="ID_217319412" MODIFIED="1385373816126" TEXT="MWFActivity.java&#x4e2d;&#x7684;run">
<node COLOR="#111111" CREATED="1385349640937" ID="ID_1905057995" MODIFIED="1385373816126" TEXT="boolean done = performWork">
<node COLOR="#111111" CREATED="1385350111871" ID="ID_1793820056" MODIFIED="1385373816127" TEXT="MWFActivity.java&#x4e2d;&#x7684;performWork">
<node COLOR="#111111" CREATED="1385350586894" ID="ID_1335726636" MODIFIED="1385373816127" TEXT="Document Action">
<node COLOR="#111111" CREATED="1385350380586" ID="ID_1302116293" MODIFIED="1385373816127" TEXT="getPO(trx)"/>
<node COLOR="#111111" CREATED="1385350385402" ID="ID_163619680" MODIFIED="1385373816128" TEXT="m_po instanceof DocAction"/>
<node COLOR="#111111" CREATED="1385350464591" ID="ID_1674057074" MODIFIED="1385373816128" TEXT="doc = (DocAction)m_po;"/>
<node COLOR="#111111" CREATED="1385350491309" ID="ID_683334102" MODIFIED="1385373816128" TEXT="success = doc.processIt(m_node.getDocAction())">
<node COLOR="#111111" CREATED="1385363259294" ID="ID_1797705007" MODIFIED="1385373816128" TEXT="DocAction.java">
<node COLOR="#111111" CREATED="1385363955135" ID="ID_939324373" MODIFIED="1385373816129" TEXT="MOrder.java&#x4e2d;&#x7684;processIt">
<node COLOR="#111111" CREATED="1385364060117" ID="ID_1895806862" MODIFIED="1385373816129" TEXT="DocumentEngine.java">
<node COLOR="#111111" CREATED="1385364038920" ID="ID_351071326" MODIFIED="1385373816129" TEXT="engine.processIt">
<node COLOR="#111111" CREATED="1385364203984" ID="ID_1567846600" MODIFIED="1385373816130" TEXT="MOrder.java">
<node COLOR="#111111" CREATED="1385364188374" ID="ID_1911021167" MODIFIED="1385373816130" TEXT="prepareIt"/>
<node COLOR="#111111" CREATED="1385365368461" ID="ID_629366195" MODIFIED="1385373816130" TEXT="doIt"/>
</node>
</node>
<node COLOR="#111111" CREATED="1385364112754" ID="ID_1161337207" MODIFIED="1385373816131" TEXT=""/>
</node>
</node>
</node>
</node>
<node COLOR="#111111" CREATED="1385350562525" ID="ID_995313715" MODIFIED="1385373816131" TEXT="retrun success"/>
</node>
<node COLOR="#111111" CREATED="1385350608235" ID="ID_1771826111" MODIFIED="1385373816131" TEXT="Report"/>
<node COLOR="#111111" CREATED="1385363148142" ID="ID_224280434" MODIFIED="1385373816132" TEXT="Process"/>
<node COLOR="#111111" CREATED="1385363182726" ID="ID_1619559508" MODIFIED="1385373816132" TEXT="EMail"/>
</node>
</node>
</node>
</node>
<node COLOR="#111111" CREATED="1385349020310" ID="ID_1555292595" MODIFIED="1385373816132" TEXT="return true"/>
</node>
</node>
<node COLOR="#111111" CREATED="1385346710793" ID="ID_281112319" MODIFIED="1385373816132" TEXT="localTrx.commit()"/>
<node COLOR="#111111" CREATED="1385346743968" ID="ID_1201282653" MODIFIED="1385373816133" TEXT="stateEngine state=retValue.getState()"/>
<node COLOR="#111111" CREATED="1385346785726" ID="ID_1699816864" MODIFIED="1385373816133" TEXT="pi(prcessinfo).setSummary"/>
<node COLOR="#111111" CREATED="1385346829549" ID="ID_1274315514" MODIFIED="1385373816133" TEXT="return retValue"/>
</node>
</node>
<node COLOR="#111111" CREATED="1385347193425" ID="ID_1168790457" MODIFIED="1385373816134" TEXT="return wfProcess"/>
</node>
</node>
<node COLOR="#111111" CREATED="1385347292124" ID="ID_415546256" MODIFIED="1385373816134" TEXT="return started"/>
</node>
</node>
<node COLOR="#111111" CREATED="1385344652162" ID="ID_348460417" MODIFIED="1385373816134" TEXT="&#x6709;jasper"/>
<node COLOR="#111111" CREATED="1385344870836" ID="ID_1603300865" MODIFIED="1385373816135" TEXT="unlock()"/>
</node>
</node>
</node>
</node>
</node>
</node>
</node>
<node COLOR="#0033ff" CREATED="1385365480953" ID="ID_1484545292" MODIFIED="1385373816139" POSITION="right" TEXT="&#x9875;&#x9762;callout">
<edge STYLE="sharp_bezier" WIDTH="8"/>
<font NAME="SansSerif" SIZE="18"/>
</node>
<node COLOR="#0033ff" CREATED="1385367808838" ID="ID_1374296167" MODIFIED="1385447292162" POSITION="right" TEXT="head&#x753b;&#x9762;&#x70b9;&#x51fb;&#x4fdd;&#x5b58;&#x6309;&#x94ae;&#x540e;">
<edge STYLE="sharp_bezier" WIDTH="8"/>
<font NAME="SansSerif" SIZE="18"/>
<node COLOR="#00b439" CREATED="1385367889133" ID="ID_1047333759" MODIFIED="1385373816146" TEXT="UiEngineImpl.java&#x4e2d;&#x7684;execUpdate()">
<edge STYLE="bezier" WIDTH="thin"/>
<font NAME="SansSerif" SIZE="16"/>
<node COLOR="#990000" CREATED="1385368084890" ID="ID_179835660" MODIFIED="1385373816147" TEXT="process(desktop,event)">
<font NAME="SansSerif" SIZE="14"/>
<node COLOR="#111111" CREATED="1385368138135" ID="ID_1016107847" MODIFIED="1385437254507" TEXT="processEvent(desktop, comp, event)">
<node COLOR="#111111" CREATED="1385368194560" ID="ID_291755623" MODIFIED="1385373816148" TEXT="EventProcessor proc = new EventProcessor(desktop, comp, event);"/>
<node COLOR="#111111" CREATED="1385368198371" ID="ID_38542653" MODIFIED="1385531551096" TEXT="proc.process();">
<node COLOR="#111111" CREATED="1385531004513" ID="ID_688301190" MODIFIED="1385531054927" TEXT="Scope scope = Scopes.beforeInterpret(_comp);"/>
<node COLOR="#111111" CREATED="1385443528466" ID="ID_1724224247" MODIFIED="1385530797584" TEXT="ToolBarButton(AbstractComponent).service(Event, Scope)">
<node COLOR="#111111" CREATED="1385437429577" ID="ID_291722760" MODIFIED="1385531557223" TEXT="service() &#x5c06;request&#x8f6c;&#x5316;&#x4e3a;event,&#x4f8b;&#x5982;&#x4fdd;&#x5b58;&#x52a8;&#x4f5c;&#x4e3a;ToolBarButto&#x7c7b;&#x578b;&#x7684;BtnSave">
<node COLOR="#111111" CREATED="1385443860391" ID="ID_1339535265" MODIFIED="1385445705290" TEXT="service( EventListenerInfo)&#xff0c;ListenerInfo&#x88ab;&#x89e3;&#x6790;&#x4e3a;ADWrindowToolbar">
<node COLOR="#111111" CREATED="1385437508426" ID="ID_1564985524" MODIFIED="1385443591326" TEXT="listener.onEvent(event);">
<node COLOR="#111111" CREATED="1385444016259" ID="ID_1505010853" MODIFIED="1385444061629" TEXT="ADWindowToolbar.java&#x4e2d;&#x7684;onEvent()">
<node COLOR="#111111" CREATED="1385444062725" ID="ID_1368079362" MODIFIED="1385531560525" TEXT="doOnClick(event)">
<node COLOR="#111111" CREATED="1385445585447" ID="ID_187988926" MODIFIED="1385445629421" TEXT="Method method = tListener.getClass().getMethod(methodName)"/>
<node COLOR="#111111" CREATED="1385444825455" ID="ID_61592043" MODIFIED="1385445672146" TEXT="Method.invoke(tListener,object)">
<node COLOR="#111111" CREATED="1385445800581" ID="ID_534813092" MODIFIED="1385445835895" TEXT="invoke&#x653e;&#x5c06;event&#x4e2d;&#x7684;btnSave&#x65b9;&#x6cd5;&#x89e3;&#x6790;&#x6210;onSave">
<node COLOR="#111111" CREATED="1385445872550" ID="ID_813910321" MODIFIED="1385445907358" TEXT="AbstractADWindowContent.java&#x4e2d;&#x7684;onSave()">
<node COLOR="#111111" CREATED="1385445979523" ID="ID_615969266" MODIFIED="1385446075727" TEXT="onSave(boolean,boolean,callback()) #onSaveEvent">
<node COLOR="#111111" CREATED="1385446160281" ID="ID_722304411" MODIFIED="1385446342506" TEXT="onSave0(onSaveEvent, onNavigationEvent, newRecord, wasChanged, callback)">
<node COLOR="#111111" CREATED="1385446224099" ID="ID_1626403770" MODIFIED="1385447026050" TEXT="CompositeADTabbox dTabbox.dataSave(onSaveEvent);">
<node COLOR="#111111" CREATED="1385446352621" ID="ID_1454538748" MODIFIED="1385522322757" TEXT="CompositeADTabbox.java&#x4e2d;&#x7684;dataSave()">
<node COLOR="#111111" CREATED="1385447253466" ID="ID_306350910" MODIFIED="1385447272391" TEXT="IADTabpanel detail = getSelectedDetailADTabpanel()"/>
<node COLOR="#111111" CREATED="1385447195398" ID="ID_195017905" MODIFIED="1385524204647" TEXT="detail.needSave(true,true) -&gt; detail.dataSave()"/>
<node COLOR="#111111" CREATED="1385447212073" ID="ID_1367360067" MODIFIED="1385447651957" TEXT="IADTabpanel headerTab.dataSave()">
<node COLOR="#111111" CREATED="1385447667525" ID="ID_705309854" MODIFIED="1385447700382" TEXT="IADTabpanel.java&#x4e2d;&#x7684;dataSave"/>
<node COLOR="#111111" CREATED="1385447709345" ID="ID_532877097" MODIFIED="1385524356825" TEXT="retrun getGridTab().dataSave()">
<node COLOR="#111111" CREATED="1385524286109" ID="ID_1262917548" MODIFIED="1385524309944" TEXT="ADTabpanel.java&#x4e2d;&#x7684;getGridTab"/>
<node COLOR="#111111" CREATED="1385524356826" ID="ID_815895645" MODIFIED="1385524376205" TEXT="GridTab.java&#x4e2d;&#x7684;dataSave()">
<node COLOR="#111111" CREATED="1385524395848" ID="ID_620171487" MODIFIED="1385524450543" TEXT="hasChangedCurrentTabAndParents()">
<icon BUILTIN="messagebox_warning"/>
</node>
<node COLOR="#111111" CREATED="1385524424176" ID="ID_618083397" MODIFIED="1385524492059" TEXT="boolean retValue = (m_mTable.dataSave(manualCmd) == GridTable.SAVE_OK);">
<node COLOR="#111111" CREATED="1385528595006" ID="ID_1298146183" MODIFIED="1385528620242" TEXT="GridTable.java&#x4e2d;&#x7684;dataSave()">
<node COLOR="#111111" CREATED="1385528702581" ID="ID_1791183217" MODIFIED="1385528726743" TEXT="MRole.getDefault.canUpdate()">
<icon BUILTIN="messagebox_warning"/>
</node>
<node COLOR="#111111" CREATED="1385528728779" ID="ID_437630112" MODIFIED="1385529180030" TEXT="dataSavePO()">
<node COLOR="#111111" CREATED="1385529307198" ID="ID_1477958437" MODIFIED="1385529318508" TEXT="po=table.getPO()"/>
<node COLOR="#111111" CREATED="1385530188332" ID="ID_401737286" MODIFIED="1385530195535" TEXT="po.save()">
<node COLOR="#111111" CREATED="1385530239605" ID="ID_658607132" MODIFIED="1385530252300" TEXT="PO.java&#x4e2d;&#x7684;save()">
<node COLOR="#111111" CREATED="1385530371694" ID="ID_1908534226" MODIFIED="1385530379263" TEXT="beforeSave()"/>
<node COLOR="#111111" CREATED="1385530409981" ID="ID_813681766" MODIFIED="1385530420863" TEXT="if(newRecord)">
<node COLOR="#111111" CREATED="1385530421742" ID="ID_1053487742" MODIFIED="1385530425656" TEXT="saveNew()"/>
<node COLOR="#111111" CREATED="1385530427755" ID="ID_1956745045" MODIFIED="1385530432876" TEXT="saveUpdate()"/>
</node>
</node>
</node>
</node>
</node>
</node>
</node>
</node>
</node>
</node>
</node>
<node COLOR="#111111" CREATED="1385446229248" ID="ID_1266915327" MODIFIED="1385446252456" TEXT="return boolean"/>
</node>
</node>
</node>
</node>
</node>
</node>
</node>
</node>
</node>
</node>
</node>
<node COLOR="#111111" CREATED="1385530736654" ID="ID_1478092305" MODIFIED="1385530743716" TEXT="((DesktopCtrl)_desktop).afterProcessEvent(_event);"/>
<node COLOR="#111111" CREATED="1385530797978" ID="ID_36684582" MODIFIED="1385530811728" TEXT="final Execution exec = _desktop.getExecution();"/>
<node COLOR="#111111" CREATED="1385530918919" ID="ID_213751279" MODIFIED="1385530934566" TEXT="Scopes.afterInterpret()"/>
</node>
</node>
</node>
<node COLOR="#990000" CREATED="1385531239296" ID="ID_1017581880" MODIFIED="1385531246841" TEXT="resumeAll()">
<font NAME="SansSerif" SIZE="14"/>
</node>
</node>
</node>
<node COLOR="#0033ff" CREATED="1385529997083" ID="ID_1314490895" MODIFIED="1385530005110" POSITION="left" TEXT="&#x9519;&#x8bef;&#x6d88;&#x606f;&#x673a;&#x5236;">
<edge STYLE="sharp_bezier" WIDTH="8"/>
<font NAME="SansSerif" SIZE="18"/>
<node COLOR="#00b439" CREATED="1385530006069" ID="ID_1205324937" MODIFIED="1385530032531" TEXT="fireDataStatusEEvent">
<edge STYLE="bezier" WIDTH="thin"/>
<font NAME="SansSerif" SIZE="16"/>
<node COLOR="#990000" CREATED="1385530058558" ID="ID_257532821" MODIFIED="1385530072987" TEXT="fireDataStatusChanged">
<font NAME="SansSerif" SIZE="14"/>
<node COLOR="#111111" CREATED="1385530101129" ID="ID_1234554779" MODIFIED="1385530102425" TEXT="listeners[i].dataStatusChanged(e)"/>
</node>
</node>
<node COLOR="#00b439" CREATED="1385531340501" ID="ID_19044124" MODIFIED="1385531361985" TEXT="abrn=uv.getAbortingReason()">
<edge STYLE="bezier" WIDTH="thin"/>
<font NAME="SansSerif" SIZE="16"/>
</node>
</node>
</node>
</map>
